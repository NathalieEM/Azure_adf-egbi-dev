{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "adf-egbi-dev"
		},
		"AWS_Service_portal_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'AWS_Service_portal'"
		},
		"Integrator_MRR_Accounts_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Integrator_MRR_Accounts'"
		},
		"Is_Sorrel_integration_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'Is_Sorrel_integration'"
		},
		"RPTSRV_ReportServer_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'RPTSRV_ReportServer'"
		},
		"RptSrv_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'RptSrv'"
		},
		"SAP_Integrator_dev_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SAP_Integrator_dev'"
		},
		"SAP_Sorrel_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SAP_Sorrel'"
		},
		"SAP_integrator_dev_accounts_replica_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'SAP_integrator_dev_accounts_replica'"
		},
		"SalesforceSandBox_password": {
			"type": "secureString",
			"metadata": "Secure string for 'password' of 'SalesforceSandBox'"
		},
		"SalesforceSandBox_securityToken": {
			"type": "secureString",
			"metadata": "Secure string for 'securityToken' of 'SalesforceSandBox'"
		},
		"TESTSorrelDB_25022020_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'TESTSorrelDB_25022020'"
		},
		"ls_sap_integrator_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'ls_sap_integrator'"
		},
		"sql_rptsrv_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'sql_rptsrv'"
		},
		"sqlsrv_sap_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'sqlsrv_sap'"
		},
		"sqlsrv_sap_TestNewQcoreDB_05012020_connectionString": {
			"type": "secureString",
			"metadata": "Secure string for 'connectionString' of 'sqlsrv_sap_TestNewQcoreDB_05012020'"
		},
		"SalesforceSandBox_properties_typeProperties_environmentUrl": {
			"type": "string",
			"defaultValue": "qcoremedical--sandbox.my.salesforce.com"
		},
		"SalesforceSandBox_properties_typeProperties_username": {
			"type": "string",
			"defaultValue": "nathalie.mayzlits@qcore.com.sandbox"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/vw_Training_Quality_Plan')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "sqldb_egbi_dev",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "SQLDB-EGBI-DEV/Training"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "MasterDocumentName",
						"type": "nvarchar"
					},
					{
						"name": "DocumentOwnerName",
						"type": "nvarchar"
					},
					{
						"name": "EmployeeName",
						"type": "nvarchar"
					},
					{
						"name": "Department",
						"type": "varchar"
					},
					{
						"name": "Unit",
						"type": "int",
						"precision": 10
					},
					{
						"name": "NeedDocument",
						"type": "int",
						"precision": 10
					},
					{
						"name": "JobFunctionName",
						"type": "nvarchar"
					},
					{
						"name": "CurriculumName",
						"type": "nvarchar"
					}
				],
				"typeProperties": {
					"schema": "training",
					"table": "vw_Training_Quality_Plan"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/watermarks_highValues')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "sqldb_egbi_dev",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "SQLDB-EGBI-DEV"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "highValue_Id",
						"type": "int",
						"precision": 10
					},
					{
						"name": "highValue_updateDate",
						"type": "datetime",
						"precision": 23,
						"scale": 3
					},
					{
						"name": "schemaName",
						"type": "varchar"
					},
					{
						"name": "tableName",
						"type": "varchar"
					},
					{
						"name": "columnName",
						"type": "varchar"
					},
					{
						"name": "highValue",
						"type": "varchar"
					},
					{
						"name": "highValue_Type",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "watermarks",
					"table": "highValues"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/watermarks_highValues1')]",
			"type": "Microsoft.DataFactory/factories/datasets",
			"apiVersion": "2018-06-01",
			"properties": {
				"linkedServiceName": {
					"referenceName": "sqldb_sorrelbi_dev",
					"type": "LinkedServiceReference"
				},
				"folder": {
					"name": "SQLDB-EGBI-DEV"
				},
				"annotations": [],
				"type": "AzureSqlTable",
				"schema": [
					{
						"name": "highValue_Id",
						"type": "int",
						"precision": 10
					},
					{
						"name": "highValue_updateDate",
						"type": "datetime",
						"precision": 23,
						"scale": 3
					},
					{
						"name": "schemaName",
						"type": "varchar"
					},
					{
						"name": "tableName",
						"type": "varchar"
					},
					{
						"name": "columnName",
						"type": "varchar"
					},
					{
						"name": "highValue",
						"type": "varchar"
					},
					{
						"name": "highValue_Type",
						"type": "varchar"
					}
				],
				"typeProperties": {
					"schema": "watermarks",
					"table": "highValues"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/AWS_Service_portal')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('AWS_Service_portal_connectionString')]"
				},
				"connectVia": {
					"referenceName": "integrationRuntime-AWS-Service-SQL",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Integrator_MRR_Accounts')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('Integrator_MRR_Accounts_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ir-sap",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Is_Sorrel_integration')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('Is_Sorrel_integration_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ir-sap",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/RPTSRV_ReportServer')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('RPTSRV_ReportServer_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ir-sap",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/RptSrv')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('RptSrv_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ir-sap",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SAP_Integrator_dev')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SAP_Integrator_dev_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ir-sap",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SAP_Sorrel')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SAP_Sorrel_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ir-sap",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SAP_integrator_dev_accounts_replica')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('SAP_integrator_dev_accounts_replica_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ir-sap",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SalesforceSandBox')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "Salesforce",
				"typeProperties": {
					"environmentUrl": "[parameters('SalesforceSandBox_properties_typeProperties_environmentUrl')]",
					"username": "[parameters('SalesforceSandBox_properties_typeProperties_username')]",
					"password": {
						"type": "SecureString",
						"value": "[parameters('SalesforceSandBox_password')]"
					},
					"securityToken": {
						"type": "SecureString",
						"value": "[parameters('SalesforceSandBox_securityToken')]"
					},
					"apiVersion": "48.0"
				},
				"connectVia": {
					"referenceName": "SalesForce-azure-IR",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/TESTSorrelDB_25022020')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('TESTSorrelDB_25022020_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ir-sap",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ls_sap_integrator')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('ls_sap_integrator_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ir-sap",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/sql_rptsrv')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('sql_rptsrv_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ir-sap",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/sqlsrv_sap')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('sqlsrv_sap_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ir-sap",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/sqlsrv_sap_TestNewQcoreDB_05012020')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "SqlServer",
				"typeProperties": {
					"connectionString": "[parameters('sqlsrv_sap_TestNewQcoreDB_05012020_connectionString')]"
				},
				"connectVia": {
					"referenceName": "ir-sap",
					"type": "IntegrationRuntimeReference"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Dwh_IQC_Followup')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Copy Dwh_IQC_Followup",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "trunc Dwh_IQC_Followup",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzureSqlSource",
								"queryTimeout": "02:00:00",
								"partitionOption": "None"
							},
							"sink": {
								"type": "AzureSqlSink"
							},
							"enableStaging": true,
							"stagingSettings": {
								"linkedServiceName": {
									"referenceName": "AzureBlobStorage1",
									"type": "LinkedServiceReference"
								}
							},
							"translator": {
								"type": "TabularTranslator",
								"mappings": [
									{
										"source": {
											"name": "Year",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "Year",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "WeeK",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "WeeK",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "EndDateIQC",
											"type": "DateTime",
											"physicalType": "datetime"
										},
										"sink": {
											"name": "EndDateIQC",
											"type": "DateTime",
											"physicalType": "datetime"
										}
									},
									{
										"source": {
											"name": "SupplierID",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "SupplierID",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "SupplierName",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "SupplierName",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "DateReciept",
											"type": "DateTime",
											"physicalType": "datetime"
										},
										"sink": {
											"name": "DateReciept",
											"type": "DateTime",
											"physicalType": "datetime"
										}
									},
									{
										"source": {
											"name": "Itemcode",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "Itemcode",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "ProductType",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "ProductType",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "TotalRecQty",
											"type": "Double",
											"physicalType": "float"
										},
										"sink": {
											"name": "TotalRecQty",
											"type": "Double",
											"physicalType": "float"
										}
									},
									{
										"source": {
											"name": "Pass/Fail",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "Pass/Fail",
											"type": "Int32",
											"physicalType": "int"
										}
									},
									{
										"source": {
											"name": "Rev number ",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "Rev number ",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "Batch Number",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "Batch Number",
											"type": "String",
											"physicalType": "nvarchar"
										}
									}
								],
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "Stg_IQC_Followup",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "Dwh_IQC_Followup",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "trunc Dwh_IQC_Followup",
						"type": "SqlServerStoredProcedure",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"storedProcedureName": "[[ScoreCards].[trunc_dwh_IQC_Followup]"
						},
						"linkedServiceName": {
							"referenceName": "sqldb_egbi_dev",
							"type": "LinkedServiceReference"
						}
					}
				],
				"folder": {
					"name": "ScoreCards/Dwh"
				},
				"annotations": [],
				"lastPublishTime": "2020-08-18T13:00:25Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Dwh_ScarLog')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Copy Dwh_ScarLog",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "trunc Dwh_ScarLog",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzureSqlSource",
								"queryTimeout": "02:00:00",
								"partitionOption": "None"
							},
							"sink": {
								"type": "AzureSqlSink"
							},
							"enableStaging": true,
							"stagingSettings": {
								"linkedServiceName": {
									"referenceName": "AzureBlobStorage1",
									"type": "LinkedServiceReference"
								}
							},
							"translator": {
								"type": "TabularTranslator",
								"mappings": [
									{
										"source": {
											"name": "Year",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "Year",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "Week",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "Week",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "SupplierName",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "SupplierName",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "SupplierNo",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "SupplierNo",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "PartDescription",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "PartDescription",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "PN",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "PN",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "MRBNo",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "MRBNo",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "DescriptionofDeviation",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "DescriptionofDeviation",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "ScarSendingDate",
											"type": "DateTime",
											"physicalType": "date"
										},
										"sink": {
											"name": "ScarSendingDate",
											"type": "DateTime",
											"physicalType": "date"
										}
									},
									{
										"source": {
											"name": "AllowedReturnDate",
											"type": "DateTime",
											"physicalType": "date"
										},
										"sink": {
											"name": "AllowedReturnDate",
											"type": "DateTime",
											"physicalType": "date"
										}
									},
									{
										"source": {
											"name": "ReminderDate",
											"type": "DateTime",
											"physicalType": "date"
										},
										"sink": {
											"name": "ReminderDate",
											"type": "DateTime",
											"physicalType": "date"
										}
									},
									{
										"source": {
											"name": "ScarReturningDate",
											"type": "DateTime",
											"physicalType": "date"
										},
										"sink": {
											"name": "ScarReturningDate",
											"type": "DateTime",
											"physicalType": "date"
										}
									}
								],
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "Stg_ScarLog",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "Dwh_ScarLog",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "trunc Dwh_ScarLog",
						"type": "SqlServerStoredProcedure",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"storedProcedureName": "[[ScoreCards].[trunc_Dwh_ScarLog]"
						},
						"linkedServiceName": {
							"referenceName": "sqldb_egbi_dev",
							"type": "LinkedServiceReference"
						}
					}
				],
				"folder": {
					"name": "ScoreCards/Dwh"
				},
				"annotations": [],
				"lastPublishTime": "2020-08-18T13:00:26Z"
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Mrr_Fact_SuppliersPN')]",
			"type": "Microsoft.DataFactory/factories/pipelines",
			"apiVersion": "2018-06-01",
			"properties": {
				"activities": [
					{
						"name": "Copy Mrr_Fact_SuppliersPN",
						"type": "Copy",
						"dependsOn": [
							{
								"activity": "trunc Mrr_Fact_SuppliersPN",
								"dependencyConditions": [
									"Succeeded"
								]
							}
						],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"source": {
								"type": "AzureSqlSource",
								"sqlReaderQuery": "select distinct ItemCode,T0.CardCode,T1.CardName,U_ScoreCard from sap.Mrr_OSCN T0\nleft join sap.Mrr_OCRD_replica T1 on T0.cardcode=T1.cardcode",
								"queryTimeout": "02:00:00",
								"partitionOption": "None"
							},
							"sink": {
								"type": "AzureSqlSink"
							},
							"enableStaging": true,
							"stagingSettings": {
								"linkedServiceName": {
									"referenceName": "AzureBlobStorage1",
									"type": "LinkedServiceReference"
								}
							},
							"translator": {
								"type": "TabularTranslator",
								"mappings": [
									{
										"source": {
											"name": "ItemCode",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "ItemCode",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "CardCode",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "SupplierID",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "CardName",
											"type": "String",
											"physicalType": "nvarchar"
										},
										"sink": {
											"name": "SupplierName",
											"type": "String",
											"physicalType": "nvarchar"
										}
									},
									{
										"source": {
											"name": "U_ScoreCard",
											"type": "Int32",
											"physicalType": "int"
										},
										"sink": {
											"name": "ScoreCard",
											"type": "Int32",
											"physicalType": "int"
										}
									}
								],
								"typeConversion": true,
								"typeConversionSettings": {
									"allowDataTruncation": true,
									"treatBooleanAsNumber": false
								}
							}
						},
						"inputs": [
							{
								"referenceName": "Mrr_Fact_SuppliersPN",
								"type": "DatasetReference",
								"parameters": {}
							}
						],
						"outputs": [
							{
								"referenceName": "Dwh_fact_supplierspn",
								"type": "DatasetReference",
								"parameters": {}
							}
						]
					},
					{
						"name": "trunc Mrr_Fact_SuppliersPN",
						"type": "SqlServerStoredProcedure",
						"dependsOn": [],
						"policy": {
							"timeout": "7.00:00:00",
							"retry": 0,
							"retryIntervalInSeconds": 30,
							"secureOutput": false,
							"secureInput": false
						},
						"userProperties": [],
						"typeProperties": {
							"storedProcedureName": "[[ScoreCards].[sp_trunc_Dwh_Fact_SuppliersPN]"
						},
						"linkedServiceName": {
							"referenceName": "sqldb_egbi_dev",
							"type": "LinkedServiceReference"
						}
					}
				],
				"folder": {
					"name": "ScoreCards/Mrr"
				},
				"annotations": [],
				"lastPublishTime": "2020-09-08T12:34:39Z"
			},
			"dependsOn": []
		}
	]
}